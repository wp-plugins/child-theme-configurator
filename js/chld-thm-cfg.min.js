jQuery(document).ready(function(t){function e(t){return o(t)?t:t.toString().replace(G,"&quot;")}function c(e){t(e).iris({change:function(c,a){t(e).data("color",a.color.toString()),l(e)}})}function a(t){var e=parseInt(t),c=String.fromCharCode(e);return c}function n(t){var e=t.charCodeAt(0);return e}function l(e){var c=/^(ctc_(ovrd|\d+)_(parent|child)_([0-9a-z\-]+)_(\d+))(_\w+)?$/,a=t(e).parents(".ctc-selector-row, .ctc-parent-row").first(),n=a.find(".ctc-swatch").first(),l={parent:{},child:{}},r={parent:{origin:"",start:"",end:""},child:{origin:"",start:"",end:""}},s={child:!1,parent:!1},_={};return a.find(".ctc-parent-value, .ctc-child-value").each(function(){var a,n,u=t(this).attr("id"),d=u.toString().match(c),v=d[2],p=d[3],h="undefined"==typeof d[4]?"":d[4],f=d[5],x="undefined"==typeof d[6]?"":d[6],m="parent"==p?t(this).text().replace(/!$/,""):t(this).val(),g="ctc_"+v+"_child_"+h+"_i_"+f;if(!1===o(t(this).data("color"))&&(m=t(this).data("color"),t(this).data("color",null)),"child"==p&&(_[u]=m,_[g]=t("#"+g).is(":checked")?1:0),""!=m)if(!1===o(x))switch(x){case"_border_width":l[p][h+"-width"]=m;break;case"_border_style":l[p][h+"-style"]=m;break;case"_border_color":l[p][h+"-color"]=m;break;case"_background_url":l[p]["background-image"]=i(p,m);break;case"_background_color":l[p]["background-color"]=e.value;break;case"_background_color1":r[p].start=m,s[p]=!0;break;case"_background_color2":r[p].end=m,s[p]=!0;break;case"_background_origin":r[p].origin=m,s[p]=!0}else(a=h.toString().match(/^border(\-(top|right|bottom|left))?$/)&&!m.match(/none/))?(n=m.toString().split(/ +/),l[p][h+"-width"]="undefined"==typeof n[0]?"":n[0],l[p][h+"-style"]="undefined"==typeof n[1]?"":n[1],l[p][h+"-color"]="undefined"==typeof n[2]?"":n[2]):"background-image"!=h||m.match(/none/)?"seq"!=h&&(l[p][h]=m):m.toString().match(/url\(/)?l[p]["background-image"]=i(p,m):(n=m.toString().split(/ +/),n.length>2?(r[p].origin="undefined"==typeof n[0]?"top":n[0],r[p].start="undefined"==typeof n[1]?"transparent":n[1],r[p].end="undefined"==typeof n[2]?"transparent":n[2],s[p]=!0):l[p]["background-image"]=m)}),"undefined"!=typeof n&&!1===o(n.attr("id"))&&(n.removeAttr("style"),s.parent&&n.ctcgrad(r.parent.origin,[r.parent.start,r.parent.end]),n.css(l.parent),n.attr("id").toString().match(/parent/)||(s.child&&n.ctcgrad(r.child.origin,[r.child.start,r.child.end]),n.css(l.child)),n.css({"z-index":-1})),_}function r(e){var c,a,n;t(e).each(function(){switch(this.obj){case"imports":ctcAjax.imports=this.data;break;case"rule_val":ctcAjax.rule_val[this.key]=this.data,n=this.key;break;case"val_qry":ctcAjax.val_qry[this.key]=this.data;break;case"rule":ctcAjax.rule=this.data;break;case"sel_ndx":o(this.key)?ctcAjax.sel_ndx=this.data:"qsid"==this.key?(o(ctcAjax.sel_ndx[this.data.query])&&(ctcAjax.sel_ndx[this.data.query]={}),ctcAjax.sel_ndx[this.data.query][this.data.selector]=this.data.qsid):(ctcAjax.sel_ndx[this.key]=this.data,c=this.key);break;case"sel_val":ctcAjax.sel_val[this.key]=this.data,a=this.key;break;case"rewrite":P=this.key,U=this.data}})}function i(t,e){var c,a=e.toString().match(/url\(['" ]*(.+?)['" ]*\)/),n=o(a)?null:a[1],l=ctcAjax.theme_uri+"/"+("parent"==t?ctcAjax.parnt:ctcAjax.child)+"/";return n?c=n.toString().match(/^(data:|https?:|\/)/)?e:"url("+l+n+")":!1}function o(t){if("undefined"==typeof t||!1===t||null===t||""===t)return!0;if(!0===t||"string"==typeof t||"number"==typeof t)return!1;if("object"==typeof t){for(var e in t)if(t.hasOwnProperty(e))return!1;return!0}return!1}function s(){var e=[];return 1===K.sel_ndx?e:0===K.sel_ndx?(K.sel_ndx=1,x("sel_ndx",null,b),e):(!1===o(ctcAjax.sel_ndx)&&t.each(ctcAjax.sel_ndx,function(t){var c={label:t,value:t};e.push(c)}),e)}function _(e){var c=[];return 1===K.sel_ndx?c:0===K.sel_ndx?(K.sel_ndx=1,x("sel_ndx",e,A),c):(!1===o(ctcAjax.sel_ndx[e])&&t.each(ctcAjax.sel_ndx[e],function(t,e){var a={label:t,value:e};c.push(a)}),c)}function u(){var e=[];return 1===K.rule?e:0===K.rule?(K.rule=1,x("rule",null,k),e):(!1===o(ctcAjax.rule)&&t.each(ctcAjax.rule,function(t,c){var n={label:c.replace(/\d+/g,a),value:t};e.push(n)}),e.sort(function(t,e){return t.label>e.label?1:t.label<e.label?-1:0}))}function d(c,n,l){var r="",i=o(ctcAjax.sel_val[c])||o(ctcAjax.sel_val[c].value)||o(ctcAjax.sel_val[c].value[n])?"":ctcAjax.sel_val[c].value[n],s=g(n,"undefined"==typeof i?"":i.parnt),_=!1===o(i.i_parnt)&&i.i_parnt?ctcAjax.important_label:"",u=g(n,"undefined"==typeof i?"":i.child),d=!1===o(i.i_child)&&i.i_child?1:0,v="ctc_"+l+"_child_"+n+"_i_"+c;return!1===o(ctcAjax.sel_val[c])&&(r+='<div class="ctc-'+("ovrd"==l?"input":"selector")+'-row clearfix">'+Q,r+='<div class="ctc-input-cell">'+("ovrd"==l?n.replace(/\d+/g,a):ctcAjax.sel_val[c].selector+'<br/><a href="#" class="ctc-selector-edit" id="ctc_selector_edit_'+c+'" >'+ctcAjax.edit_txt+"</a> "+(o(s.orig)?ctcAjax.child_only_txt:""))+"</div>"+Q,"ovrd"==l&&(r+='<div class="ctc-parent-value ctc-input-cell" id="ctc_'+l+"_parent_"+n+"_"+c+'">'+(o(s.orig)?"[no value]":s.orig+_)+"</div>"+Q),r+='<div class="ctc-input-cell">'+Q,!1===o(s.names)&&(t.each(s.names,function(t,a){a=o(a)?"":a,r+='<div class="ctc-child-input-cell">'+Q;var i,s="ctc_"+l+"_child_"+n+"_"+c+a;!1===(i=u.values.shift())&&(i=""),r+=(o(a)?"":ctcAjax.field_labels[a]+":<br/>")+'<input type="text" id="'+s+'" name="'+s+'" class="ctc-child-value'+((a+n).toString().match(/color/)?" color-picker":"")+(a.toString().match(/url/)?" ctc-input-wide":"")+'" value="'+e(i)+'" />'+Q,r+="</div>"+Q}),r+='<label for="'+v+'"><input type="checkbox" id="'+v+'" name="'+v+'" value="1" '+(1===d?"checked":"")+" />"+ctcAjax.important_label+"</label>"+Q),r+="</div>"+Q,r+="ovrd"==l?"":'<div class="ctc-swatch ctc-specific" id="ctc_child_'+n+"_"+c+'_swatch">'+ctcAjax.swatch_txt+"</div>"+Q+'<div class="ctc-child-input-cell ctc-button-cell" id="ctc_save_'+n+"_"+c+'_cell">'+Q+'<input type="button" class="button ctc-save-input" id="ctc_save_'+n+"_"+c+'" name="ctc_save_'+n+"_"+c+'" value="Save" /></div>'+Q,r+="</div><!-- end input row -->"+Q),r}function v(e){if(1===K.sel_val)return!1;if(0==K.sel_val)return K.sel_val=1,x("sel_val",e,v),!1;var a,n,r;o(ctcAjax.sel_val[e])?t("#ctc_sel_ovrd_rule_inputs").html(""):(o(ctcAjax.sel_val[e].seq)?t("#ctc_child_load_order_container").html(""):(a="ctc_ovrd_child_seq_"+e,r=parseInt(ctcAjax.sel_val[e].seq),n='<input type="text" id="'+a+'" name="'+a+'" class="ctc-child-value" value="'+r+'" />',t("#ctc_child_load_order_container").html(n)),o(ctcAjax.sel_val[e].value)?t("#ctc_sel_ovrd_rule_inputs").html(""):(n="",t.each(ctcAjax.sel_val[e].value,function(t){n+=d(e,t,"ovrd")}),t("#ctc_sel_ovrd_rule_inputs").html(n).find(".color-picker").each(function(){c(this)}),l("#ctc_child_all_0_swatch")))}function p(e){if(1===K.preview)return!1;if(0==K.preview){K.preview=1;var e;return(e=t(this).attr("id").toString().match(/(child|parnt)/)[1])||(e="child"),R(""),x("preview",e,p),!1}2==K.preview&&(t("#view_"+e+"_options_panel").text(ctcAjax.previewResponse),K.preview=0)}function h(e){if(1===K.rule_val)return!1;if(0==K.rule_val)return K.rule_val=1,x("rule_val",e,h),!1;var c=ctcAjax.rule[e],a='<div class="ctc-input-row clearfix" id="ctc_rule_row_'+c+'">'+Q;!1===o(ctcAjax.rule_val[e])&&(t.each(ctcAjax.rule_val[e],function(t,e){var n=g(c,e);a+='<div class="ctc-parent-row clearfix" id="ctc_rule_row_'+c+"_"+t+'">'+Q,a+='<div class="ctc-input-cell ctc-parent-value" id="ctc_'+t+"_parent_"+c+"_"+t+'">'+n.orig+"</div>"+Q,a+='<div class="ctc-input-cell">'+Q,a+='<div class="ctc-swatch ctc-specific" id="ctc_'+t+"_parent_"+c+"_"+t+'_swatch">'+ctcAjax.swatch_txt+"</div></div>"+Q,a+='<div class="ctc-input-cell"><a href="#" class="ctc-selector-handle" id="ctc_selector_'+c+"_"+t+'">'+ctcAjax.selector_txt+"</a></div>"+Q,a+='<div id="ctc_selector_'+c+"_"+t+'_container" class="ctc-selector-container">'+Q,a+='<a href="#" id="ctc_selector_'+c+"_"+t+'_close" class="ctc-selector-handle ctc-exit" title="'+ctcAjax.close_txt+'"></a>',a+='<div id="ctc_selector_'+c+"_"+t+'_inner_container" class="ctc-selector-inner-container clearfix">'+Q,a+='<div id="ctc_status_val_qry_'+t+'"></div>'+Q,a+='<div id="ctc_selector_'+c+"_"+t+'_rows"></div>'+Q,a+="</div></div></div>"+Q}),a+="</div>"+Q),t("#ctc_rule_value_inputs").html(a).find(".ctc-swatch").each(function(){l(this)})}function f(e){if(1==K.val_qry)return!1;var a,r,i=t("#ctc_rule_menu_selected").text().replace(/[^\w\-]/g,n),s="";return 0===K.val_qry?(K.val_qry=1,a={rule:i},x("val_qry",e,f,a),!1):(!1===o(ctcAjax.val_qry[e])&&t.each(ctcAjax.val_qry[e],function(c,a){page_rule=c,t.each(a,function(a,n){s+='<h4 class="ctc-query-heading">'+a+"</h4>"+Q,!1===o(n)&&t.each(n,function(t,a){ctcAjax.sel_val[t]=a,s+=d(t,c,e)})})}),r="#ctc_selector_"+i+"_"+e+"_rows",t(r).html(s).find(".color-picker").each(function(){c(this)}),void t(r).find(".ctc-swatch").each(function(){l(this)}))}function x(e,c,a,n){var l={ctc_query_obj:e,ctc_query_key:c},i="#ctc_status_"+e+("val_qry"==e?"_"+c:"");return"object"==typeof n&&t.each(n,function(t,e){l["ctc_query_"+t]=e}),t(".ctc-status-icon").remove(),t(i).append('<span class="ctc-status-icon spinner"></span>'),t(".spinner").show(),l.action="ctc_query",l._wpnonce=t("#_wpnonce").val(),t.post(ctcAjax.ajaxurl,l,function(n){return K[e]=2,t(".ctc-status-icon").removeClass("spinner"),o(n)?(t(".ctc-status-icon").addClass("failure"),void("preview"==e&&(ctcAjax.previewResponse=ctcAjax.css_fail_txt,a(c)))):(t(".ctc-status-icon").addClass("success"),"preview"==e?ctcAjax.previewResponse=n.shift().data:r(n),"function"==typeof a&&a(c),!1)},"json").fail(function(){t(".ctc-status-icon").removeClass("spinner"),t(".ctc-status-icon").addClass("failure"),"preview"==e?(ctcAjax.previewResponse=ctcAjax.css_fail_txt,K[e]=2,a(c)):K[e]=0}),!1}function m(e){var c,a,n,i,s={},_=t(e).attr("id");return o(B[_])&&(B[_]=0),B[_]++,t(e).prop("disabled",!0),t(".ctc-status-icon").remove(),t(e).parent(".ctc-textarea-button-cell, .ctc-button-cell").append('<span class="ctc-status-icon spinner"></span>'),t(".spinner").show(),(c=t("#ctc_new_selectors"))&&"ctc_save_new_selectors"==t(e).attr("id")?(s.ctc_new_selectors=c.val(),(a=t("#ctc_sel_ovrd_query_selected"))&&(s.ctc_sel_ovrd_query=a.text())):(n=t("#ctc_child_imports"))&&"ctc_save_imports"==t(e).attr("id")?s.ctc_child_imports=n.val():s=l(e),t("#ctc_sel_ovrd_selector_selected").find("#ctc_rewrite_selector").each(function(){i=t("#ctc_rewrite_selector").val(),origsel=t("#ctc_rewrite_selector_orig").val(),o(i)||!i.toString().match(/\w/)?i=origsel:s.ctc_rewrite_selector=i,t(".ctc-rewrite-toggle").text(ctcAjax.rename_txt),t("#ctc_sel_ovrd_selector_selected").html(i)}),s.action="ctc_update",s._wpnonce=t("#_wpnonce").val(),t.post(ctcAjax.ajaxurl,s,function(c){return t(e).prop("disabled",!1),t(".ctc-status-icon").removeClass("spinner"),o(c)?t(".ctc-status-icon").addClass("failure"):(t(".ctc-status-icon").addClass("success"),t("#ctc_new_selectors").val(""),r(c),C(),!1===o(P)&&(y(P,U),P=U=null)),!1},"json").fail(function(){t(e).prop("disabled",!1),t(".ctc-status-icon").removeClass("spinner"),t(".ctc-status-icon").addClass("failure")}),!1}function g(t,e){e="undefined"==typeof e?"":e;var c={orig:e};if(t.toString().match(/^border(\-(top|right|bottom|left))?$/)){var a=e.toString().split(/ +/);c.names=["_border_width","_border_style","_border_color"],c.values=["undefined"==typeof a[0]?"":a[0],"undefined"==typeof a[1]?"":a[1],"undefined"==typeof a[2]?"":a[2]]}else if(t.toString().match(/^background\-image/))if(c.names=["_background_url","_background_origin","_background_color1","_background_color2"],c.values=["","","",""],!1!==o(e)||e.toString().match(/(url|none)/))c.values[0]=e;else{var a=e.toString().split(/:/);c.values[1]="undefined"==typeof a[0]?"":a[0],c.values[2]="undefined"==typeof a[1]?"":a[1],c.values[3]="undefined"==typeof a[3]?"":a[3],c.orig=[c.values[1],c.values[2],c.values[3]].join(" ")}else c.names=[""],c.values=[e];return c}function w(e){V=e,t("#ctc_sel_ovrd_query").val(""),t("#ctc_sel_ovrd_query_selected").text(e),t("#ctc_sel_ovrd_selector").val(""),t("#ctc_sel_ovrd_selector_selected").html("&nbsp;"),t("#ctc_sel_ovrd_rule_inputs").html(""),A(e),l("#ctc_child_all_0_swatch"),t("#ctc_new_selector_row").show()}function y(e,c){t("#ctc_sel_ovrd_selector").val(""),t("#ctc_sel_ovrd_selector_selected").text(c),t("#ctc_sel_ovrd_qsid").val(e),O=e,1!=K.sel_val&&(K.sel_val=0),v(e),t(".ctc-rewrite-toggle").text(ctcAjax.rename_txt),t("#ctc_sel_ovrd_new_rule, #ctc_sel_ovrd_rule_header,#ctc_sel_ovrd_rule_inputs_container,#ctc_sel_ovrd_rule_inputs,.ctc-rewrite-toggle").show()}function j(e,c){t("#ctc_rule_menu").val(""),t("#ctc_rule_menu_selected").text(c),1!=K.rule_val&&(K.rule_val=0),h(e),t(".ctc-rewrite-toggle").text(ctcAjax.rename_txt),t("#ctc_rule_value_inputs,#ctc_input_row_rule_header").show()}function b(){X=s(),t("#ctc_sel_ovrd_query").autocomplete({source:X,minLength:0,selectFirst:!0,autoFocus:!0,select:function(t,e){return w(e.item.value),!1},focus:function(t){t.preventDefault()}})}function A(e){W=_(e),t("#ctc_sel_ovrd_selector").autocomplete({source:W,selectFirst:!0,autoFocus:!0,select:function(t,e){return y(e.item.value,e.item.label),!1},focus:function(t){t.preventDefault()}})}function k(){Y=u(),t("#ctc_rule_menu").autocomplete({source:Y,selectFirst:!0,autoFocus:!0,select:function(t,e){return j(e.item.value,e.item.label),!1},focus:function(t){t.preventDefault()}})}function q(e,c){var n=[],l=o(ctcAjax.sel_val[O])||o(ctcAjax.sel_val[O].value);o(Y)&&(Y=u()),t.each(Y,function(c,r){var i=!1,o=new RegExp(t.ui.autocomplete.escapeRegex(e.term),"i");if(o.test(r.label)){if(!1===l&&(t.each(ctcAjax.sel_val[O].value,function(t){return r.label==t.replace(/\d+/g,a)?(i=!0,!1):void 0}),i))return;n.push(r)}}),c(n)}function S(){t("#ctc_new_rule_menu").autocomplete({source:q,selectFirst:!0,autoFocus:!0,select:function(e,a){e.preventDefault();var l=t(d(O,a.item.label.replace(/[^\w\-]/g,n),"ovrd"));return t("#ctc_sel_ovrd_rule_inputs").append(l),t("#ctc_new_rule_menu").val(""),o(ctcAjax.sel_val[O].value)&&(ctcAjax.sel_val[O].value={}),ctcAjax.sel_val[O].value[a.item.label]={child:""},l.find('input[type="text"]').each(function(e,a){t(a).hasClass("color-picker")&&c(a),t(a).focus()}),!1},focus:function(t){t.preventDefault()}})}function C(){b(),A(V),k(),S()}function D(e,c){var a=!1;return t.each(ctcAjax.themes,function(n,l){return t.each(l,function(t){return t!=e||"parnt"!=n&&"new"!=c?void 0:(a=!0,!1)}),a?!1:void 0}),a}function F(){for(var e=t("#ctc_theme_parnt").val(),c=slugbase=e+"-child",a=ctcAjax.themes.parnt[e].Name+" Child",n="",l="",r="00";D(c,"new");)n=""==n?2:n+1,l=r.substring(0,r.length-n.toString().length)+n.toString(),c=slugbase+l;H=c,J=a+(l.length?" "+l:"")}function R(e){var c="";!1===o(e)&&t.each(e,function(e,a){c+='<div class="'+e+'"><ul>'+Q,t(a).each(function(t,e){c+="<li>"+e.toString()+"</li>"+Q}),c+="</ul></div>"}),t("#ctc_error_notice").html(c)}function T(){var e=/[^\w\-]/,c=t("#ctc_child_template").val().toString().replace(e).toLowerCase(),a=t("#ctc_theme_child").val().toString().replace(e).toLowerCase(),n=t("input[name=ctc_child_type]:checked").val(),l=[];return"new"==n&&(a=c),D(a,n)&&l.push(ctcAjax.theme_exists_txt.toString().replace(/%s/,a)),""===a&&l.push(ctcAjax.inval_theme_txt),""===t("#ctc_child_name").val()&&l.push(ctcAjax.inval_name_txt),l.length?(R({error:l}),!1):!0}function $(e){t("#ctc_theme_parent").parents(".ctc-input-row").first().append('<span class="ctc-status-icon spinner"></span>'),t(".spinner").show(),document.location="?page="+ctcAjax.page+"&ctc_parent="+e.value}function I(e){!1===o(ctcAjax.themes.child[e.value])&&(t("#ctc_child_name").val(ctcAjax.themes.child[e.value].Name),t("#ctc_child_author").val(ctcAjax.themes.child[e.value].Author),t("#ctc_child_version").val(ctcAjax.themes.child[e.value].Version))}function z(){t(".updated, .error").slideUp("slow",function(){t(".updated").remove()})}function E(){var e,c=t("#ctc_theme_parnt").val(),a=ctcAjax.theme_uri.replace(/^https?:\/\//,""),n=ctcAjax.homeurl.replace(/^https?/,ctcAjax.ssl?"https":"http"),l=n+"?preview=1&p=x&template="+c+"&stylesheet="+c,r=new RegExp("<link rel=[\"']stylesheet[\"'][^>]+?"+a+"/"+c+"/(.+?\\.css)[^>]+?>","g");o(c)||t.get(l,function(c){for(;(e=r.exec(c))&&"style.css"!=e[1];)e[1].match(/bootstrap/)||(ctcAjax.addl_css.push(e[1]),t(".ctc_checkbox").each(function(){t(this).val()==e[1]&&t(this).prop("checked",!0)}))})}function L(e){var c=e+"_panel";t(".nav-tab").removeClass("nav-tab-active"),t(".ctc-option-panel").removeClass("ctc-option-panel-active"),t(".ctc-selector-container").hide(),t(e).addClass("nav-tab-active"),t(".ctc-option-panel-container").scrollTop(0),t(c).addClass("ctc-option-panel-active")}function M(e){var c=t(e).attr("id").match(/_(\d+)$/)[1],a=ctcAjax.sel_val[c].query,n=ctcAjax.sel_val[c].selector,l="#query_selector_options";w(a),y(c,n),L(l)}function N(c){var a;t("#ctc_rewrite_selector").length?(a=t("#ctc_rewrite_selector_orig").val(),t("#ctc_sel_ovrd_selector_selected").text(a),t(c).text(ctcAjax.rename_txt)):(a=t("#ctc_sel_ovrd_selector_selected").text(),t("#ctc_sel_ovrd_selector_selected").html('<input id="ctc_rewrite_selector" name="ctc_rewrite_selector" type="text" value="'+e(a)+'" autocomplete="off" /><input id="ctc_rewrite_selector_orig" name="ctc_rewrite_selector_orig" type="hidden" value="'+e(a)+'"/>'),t(c).text(ctcAjax.cancel_txt))}var O,P,U,Q="\n",V="base",B={},G=new RegExp('"',"g"),H="",J="",K={rule:2,sel_ndx:2,val_qry:0,rule_val:0,sel_val:0,preview:0},W=[],X=[],Y=[];F(),t.widget("ctc.themeMenu",t.ui.selectmenu,{_renderItem:function(e,c){var a=t("<li>");return t("#ctc_theme_option_"+c.value).detach().appendTo(a),a.appendTo(e)}}),t("#ctc_theme_parnt").themeMenu({select:function(t,e){$(e.item)}}),o(ctcAjax.themes.child)?(t("#ctc_child_name").val(J),t("#ctc_child_template").val(H)):t("#ctc_theme_child").themeMenu({select:function(t,e){I(e.item)}}),t(".ctc-option-panel-container").on("focus",".color-picker",function(){R(""),t(".color-picker").not(this).iris("hide"),t(this).iris("toggle"),t(".iris-picker").css({position:"absolute","z-index":10})}),t(".ctc-option-panel-container").on("change",".ctc-child-value, input[type=checkbox]",function(){l(this)}),t(".ctc-option-panel-container").on("click",".ctc-selector-handle",function(e){e.preventDefault(),R("");var c=t(this).attr("id").toString().replace("_close",""),a=c.toString().match(/_(\d+)$/)[1];t("#"+c+"_container").is(":hidden")&&(1!=K.val_qry&&(K.val_qry=0),f(a)),t("#"+c+"_container").fadeToggle("fast"),t(".ctc-selector-container").not("#"+c+"_container").fadeOut("fast")}),t(".nav-tab").on("click",function(e){e.preventDefault(),R(""),t(".ctc-status-icon").remove();var c="#"+t(this).attr("id");L(c)}),t("#view_child_options,#view_parnt_options").on("click",p),t("#ctc_load_form").on("submit",function(){return T()&&confirm(ctcAjax.load_txt)}),t(document).on("click",".ctc-save-input",function(){m(this)}),t(document).on("click",".ctc-selector-edit",function(){M(this)}),t(document).on("click",".ctc-rewrite-toggle",function(t){t.preventDefault(),N(this)}),t(document).on("click",".ctc-section-toggle",function(){t(this).toggleClass("open");var e=t(this).attr("id")+"_content";t("#"+e).slideToggle("fast")}),t(document).on("click",".ctc-live-preview",function(e){return e.stopImmediatePropagation(),e.preventDefault(),document.location=t(this).prop("href"),!1}),t(document).on("change","#ctc_configtype",function(){var e=t(this).val();o(e)||"theme"==e?t(".ctc-theme-only").stop().slideDown("fast"):t(".ctc-theme-only").stop().slideUp("fast")}),t("#ctc_theme_child,#ctc_theme_child-button,#ctc_child_type_existing").on("focus click",function(){t("#ctc_child_type_existing").prop("checked",!0),t("#ctc_child_type_new").prop("checked",!1),t("#ctc_child_template").val("")}),t("#ctc_child_type_new,#ctc_child_template").on("focus click",function(){t("#ctc_child_type_existing").prop("checked",!1),t("#ctc_child_type_new").prop("checked",!0),t("#ctc_child_name").val(J),t("#ctc_child_template").val(H)}),C(),w(V),E(),t("input[type=submit],input[type=button]").prop("disabled",!1),setTimeout(z,6e3)});
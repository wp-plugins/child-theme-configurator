;jQuery(document).ready(function(I){function L(ab){return E(ab)?ab:ab.toString().replace(w,"&quot;")}function V(ab){I(ab).iris({change:function(ad,ac){I(ab).data("color",ac.color.toString());O(ab)}})}function F(ad){var ab=parseInt(ad),ac=String.fromCharCode(ab);return ac}function f(ac){var ab=ac.charCodeAt(0);return ab}function O(ah){var ad=/^(ctc_(ovrd|\d+)_(parent|child)_([0-9a-z\-]+)_(\d+))(_\w+)?$/,ai=I(ah).parents(".ctc-selector-row, .ctc-parent-row").first(),ag=ai.find(".ctc-swatch").first(),af={parent:{},child:{}},ae={parent:{origin:"",start:"",end:""},child:{origin:"",start:"",end:""}},ac={child:false,parent:false},ab={};ai.find(".ctc-parent-value, .ctc-child-value").each(function(){var aq=I(this).attr("id"),aj=aq.toString().match(ad),ar=aj[2],ak=aj[3],au=("undefined"==typeof aj[4]?"":aj[4]),ap=aj[5],ao=("undefined"==typeof aj[6]?"":aj[6]),at=("parent"==ak?I(this).text().replace(/!$/,""):I(this).val()),al="ctc_"+ar+"_child_"+au+"_i_"+ap,an,am;if(false===E(I(this).data("color"))){at=I(this).data("color");I(this).data("color",null)}if("child"==ak){ab[aq]=at;ab[al]=(I("#"+al).is(":checked"))?1:0}if(""!=at){if(false===E(ao)){switch(ao){case"_border_width":af[ak][au+"-width"]=at;break;case"_border_style":af[ak][au+"-style"]=at;break;case"_border_color":af[ak][au+"-color"]=at;break;case"_background_url":af[ak]["background-image"]=aa(ak,at);break;case"_background_color":af[ak]["background-color"]=ah.value;break;case"_background_color1":ae[ak].start=at;ac[ak]=true;break;case"_background_color2":ae[ak].end=at;ac[ak]=true;break;case"_background_origin":ae[ak].origin=at;ac[ak]=true;break}}else{if(an=au.toString().match(/^border(\-(top|right|bottom|left))?$/)&&!at.match(/none/)){am=at.toString().split(/ +/);af[ak][au+"-width"]="undefined"==typeof am[0]?"":am[0];af[ak][au+"-style"]="undefined"==typeof am[1]?"":am[1];af[ak][au+"-color"]="undefined"==typeof am[2]?"":am[2]}else{if("background-image"==au){if(at.toString().match(/url\(/)){af[ak]["background-image"]=aa(ak,at)}else{am=at.toString().split(/ +/);if(am.length>2){ae[ak].origin="undefined"==typeof am[0]?"top":am[0];ae[ak].start="undefined"==typeof am[1]?"transparent":am[1];ae[ak].end="undefined"==typeof am[2]?"transparent":am[2];ac[ak]=true}else{af[ak]["background-image"]=at}}}else{if("seq"!=au){af[ak][au]=at}}}}}});if("undefined"!=typeof ag&&false===E(ag.attr("id"))){ag.removeAttr("style");if(ac.parent){ag.ctcgrad(ae.parent.origin,[ae.parent.start,ae.parent.end])}ag.css(af.parent);if(!(ag.attr("id").toString().match(/parent/))){if(ac.child){ag.ctcgrad(ae.child.origin,[ae.child.start,ae.child.end])}ag.css(af.child)}ag.css({"z-index":-1})}return ab}function D(ac){var ab,ad,ae;I(ac).each(function(){switch(this.obj){case"imports":ctcAjax.imports=this.data;break;case"rule_val":ctcAjax.rule_val[this.key]=this.data;ae=this.key;break;case"val_qry":ctcAjax.val_qry[this.key]=this.data;break;case"rule":ctcAjax.rule=this.data;break;case"sel_ndx":if(E(this.key)){ctcAjax.sel_ndx=this.data}else{if("qsid"==this.key){if(E(ctcAjax.sel_ndx[this.data.query])){ctcAjax.sel_ndx[this.data.query]={}}ctcAjax.sel_ndx[this.data.query][this.data.selector]=this.data.qsid}else{ctcAjax.sel_ndx[this.key]=this.data;ab=this.key}}break;case"sel_val":ctcAjax.sel_val[this.key]=this.data;ad=this.key;break;case"rewrite":W=this.key;x=this.data;break}})}function aa(af,ac){var ae=ac.toString().match(/url\(['" ]*(.+?)['" ]*\)/),ad=E(ae)?null:ae[1],ab=ctcAjax.theme_uri+"/"+("parent"==af?ctcAjax.parnt:ctcAjax.child)+"/",ag;if(!ad){return false}else{if(ad.toString().match(/^(https?:|\/)/)){ag=ac}else{ag="url("+ab+ad+")"}}return ag}function E(ac){if("undefined"==typeof ac||false===ac||null===ac||""===ac){return true}if(true===ac||"string"===typeof ac||"number"===typeof ac){return false}if("object"===typeof ac){for(var ab in ac){if(ac.hasOwnProperty(ab)){return false}}return true}return false}function g(){var ab=[];if(1===X.sel_ndx){return ab}if(0===X.sel_ndx){X.sel_ndx=1;Y("sel_ndx",null,R);return ab}if(false===E(ctcAjax.sel_ndx)){I.each(ctcAjax.sel_ndx,function(ac,ad){var ae={label:ac,value:ac};ab.push(ae)})}return ab}function U(ac){var ab=[];if(1===X.sel_ndx){return ab}if(0===X.sel_ndx){X.sel_ndx=1;Y("sel_ndx",ac,Z);return ab}if(false===E(ctcAjax.sel_ndx[ac])){I.each(ctcAjax.sel_ndx[ac],function(ad,ae){var af={label:ad,value:ae};ab.push(af)})}return ab}function d(){var ab=[];if(1===X.rule){return ab}if(0===X.rule){X.rule=1;Y("rule",null,k);return ab}if(false===E(ctcAjax.rule)){I.each(ctcAjax.rule,function(ac,ad){var ae={label:ad.replace(/\d+/g,F),value:ac};ab.push(ae)})}return ab.sort(function(ad,ac){if(ad.label>ac.label){return 1}if(ad.label<ac.label){return -1}return 0})}function T(af,ah,ak){var ad="",ai=(E(ctcAjax.sel_val[af])||E(ctcAjax.sel_val[af].value)||E(ctcAjax.sel_val[af].value[ah])?"":ctcAjax.sel_val[af].value[ah]),ac=G(ah,("undefined"==typeof ai?"":ai.parnt)),ag=(false===E(ai.i_parnt)&&ai.i_parnt)?ctcAjax.important_label:"",ae=G(ah,("undefined"==typeof ai?"":ai.child)),ab=(false===E(ai.i_child)&&ai.i_child)?1:0,aj="ctc_"+ak+"_child_"+ah+"_i_"+af;if(false===E(ctcAjax.sel_val[af])){ad+='<div class="ctc-'+("ovrd"==ak?"input":"selector")+'-row clearfix">'+M;ad+='<div class="ctc-input-cell">'+("ovrd"==ak?ah.replace(/\d+/g,F):ctcAjax.sel_val[af].selector+'<br/><a href="#" class="ctc-selector-edit" id="ctc_selector_edit_'+af+'" >'+ctcAjax.edit_txt+"</a> "+(E(ac.orig)?ctcAjax.child_only_txt:""))+"</div>"+M;if("ovrd"==ak){ad+='<div class="ctc-parent-value ctc-input-cell" id="ctc_'+ak+"_parent_"+ah+"_"+af+'">'+(E(ac.orig)?"[no value]":ac.orig+ag)+"</div>"+M}ad+='<div class="ctc-input-cell">'+M;if(false===E(ac.names)){I.each(ac.names,function(al,am){am=(E(am)?"":am);ad+='<div class="ctc-child-input-cell">'+M;var ao="ctc_"+ak+"_child_"+ah+"_"+af+am,an;if(false===(an=ae.values.shift())){an=""}ad+=(E(am)?"":ctcAjax.field_labels[am]+":<br/>")+'<input type="text" id="'+ao+'" name="'+ao+'" class="ctc-child-value'+((am+ah).toString().match(/color/)?" color-picker":"")+((am).toString().match(/url/)?" ctc-input-wide":"")+'" value="'+L(an)+'" />'+M;ad+="</div>"+M});ad+='<label for="'+aj+'"><input type="checkbox" id="'+aj+'" name="'+aj+'" value="1" '+(1===ab?"checked":"")+" />"+ctcAjax.important_label+"</label>"+M}ad+="</div>"+M;ad+=("ovrd"==ak?"":'<div class="ctc-swatch ctc-specific" id="ctc_child_'+ah+"_"+af+'_swatch">'+ctcAjax.swatch_txt+"</div>"+M+'<div class="ctc-child-input-cell ctc-button-cell" id="ctc_save_'+ah+"_"+af+'_cell">'+M+'<input type="button" class="button ctc-save-input" id="ctc_save_'+ah+"_"+af+'" name="ctc_save_'+ah+"_"+af+'" value="Save" /></div>'+M);ad+="</div><!-- end input row -->"+M}return ad}function S(ab){if(1===X.sel_val){return false}if(0==X.sel_val){X.sel_val=1;Y("sel_val",ab,S);return false}var ae,ac,ad;if(E(ctcAjax.sel_val[ab])){I("#ctc_sel_ovrd_rule_inputs").html("")}else{if(E(ctcAjax.sel_val[ab].seq)){I("#ctc_child_load_order_container").html("")}else{ae="ctc_ovrd_child_seq_"+ab;ad=parseInt(ctcAjax.sel_val[ab].seq);ac='<input type="text" id="'+ae+'" name="'+ae+'" class="ctc-child-value" value="'+ad+'" />';I("#ctc_child_load_order_container").html(ac)}if(E(ctcAjax.sel_val[ab].value)){I("#ctc_sel_ovrd_rule_inputs").html("")}else{ac="";I.each(ctcAjax.sel_val[ab].value,function(ag,af){ac+=T(ab,ag,"ovrd")});I("#ctc_sel_ovrd_rule_inputs").html(ac).find(".color-picker").each(function(){V(this)});O("#ctc_child_all_0_swatch")}}}function o(ab){if(1===X.preview){return false}if(0==X.preview){X.preview=1;var ab;if(!(ab=I(this).attr("id").toString().match(/(child|parnt)/)[1])){ab="child"}b("");Y("preview",ab,o);return false}if(2==X.preview){I("#view_"+ab+"_options_panel").text(ctcAjax.previewResponse);X.preview=0}}function A(ac){if(1===X.rule_val){return false}if(0==X.rule_val){X.rule_val=1;Y("rule_val",ac,A);return false}var ad=ctcAjax.rule[ac],ab='<div class="ctc-input-row clearfix" id="ctc_rule_row_'+ad+'">'+M;if(false===E(ctcAjax.rule_val[ac])){I.each(ctcAjax.rule_val[ac],function(af,ag){var ae=G(ad,ag);ab+='<div class="ctc-parent-row clearfix" id="ctc_rule_row_'+ad+"_"+af+'">'+M;ab+='<div class="ctc-input-cell ctc-parent-value" id="ctc_'+af+"_parent_"+ad+"_"+af+'">'+ae.orig+"</div>"+M;ab+='<div class="ctc-input-cell">'+M;ab+='<div class="ctc-swatch ctc-specific" id="ctc_'+af+"_parent_"+ad+"_"+af+'_swatch">'+ctcAjax.swatch_txt+"</div></div>"+M;ab+='<div class="ctc-input-cell"><a href="#" class="ctc-selector-handle" id="ctc_selector_'+ad+"_"+af+'">'+ctcAjax.selector_txt+"</a></div>"+M;ab+='<div id="ctc_selector_'+ad+"_"+af+'_container" class="ctc-selector-container">'+M;ab+='<a href="#" id="ctc_selector_'+ad+"_"+af+'_close" class="ctc-selector-handle ctc-exit" title="'+ctcAjax.close_txt+'"></a>';ab+='<div id="ctc_selector_'+ad+"_"+af+'_inner_container" class="ctc-selector-inner-container clearfix">'+M;ab+='<div id="ctc_status_val_qry_'+af+'"></div>'+M;ab+='<div id="ctc_selector_'+ad+"_"+af+'_rows"></div>'+M;ab+="</div></div></div>"+M});ab+="</div>"+M}I("#ctc_rule_value_inputs").html(ab).find(".ctc-swatch").each(function(){O(this)})}function y(ae){if(1==X.val_qry){return false}var ag,ac,af=I("#ctc_rule_menu_selected").text().replace(/[^\w\-]/g,f),ab,ad="";if(0===X.val_qry){X.val_qry=1;ag={rule:af};Y("val_qry",ae,y,ag);return false}if(false===E(ctcAjax.val_qry[ae])){I.each(ctcAjax.val_qry[ae],function(ai,ah){page_rule=ai;I.each(ah,function(ak,aj){ad+='<h4 class="ctc-query-heading">'+ak+"</h4>"+M;if(false===E(aj)){I.each(aj,function(al,am){ctcAjax.sel_val[al]=am;ad+=T(al,ai,ae)})}})})}ab="#ctc_selector_"+af+"_"+ae+"_rows";I(ab).html(ad).find(".color-picker").each(function(){V(this)});I(ab).find(".ctc-swatch").each(function(){O(this)})}function Y(ad,ac,ag,ae){var ab={ctc_query_obj:ad,ctc_query_key:ac},af="#ctc_status_"+ad+("val_qry"==ad?"_"+ac:"");if("object"===typeof ae){I.each(ae,function(ah,ai){ab["ctc_query_"+ah]=ai})}I(".ctc-status-icon").remove();I(af).append('<span class="ctc-status-icon spinner"></span>');I(".spinner").show();ab.action="ctc_query";ab._wpnonce=I("#_wpnonce").val();I.post(ctcAjax.ajaxurl,ab,function(ah){X[ad]=2;I(".ctc-status-icon").removeClass("spinner");if(E(ah)){I(".ctc-status-icon").addClass("failure");if("preview"==ad){ctcAjax.previewResponse=ctcAjax.css_fail_txt;ag(ac)}}else{I(".ctc-status-icon").addClass("success");if("preview"==ad){ctcAjax.previewResponse=ah.shift().data}else{D(ah)}if("function"===typeof ag){ag(ac)}return false}},"json").fail(function(){I(".ctc-status-icon").removeClass("spinner");I(".ctc-status-icon").addClass("failure");if("preview"==ad){ctcAjax.previewResponse=ctcAjax.css_fail_txt;X[ad]=2;ag(ac)}else{X[ad]=0}});return false}function B(ag){var ae={},ah,ad,ab,ac,ai=I(ag).attr("id"),af;if(E(K[ai])){K[ai]=0}K[ai]++;I(ag).prop("disabled",true);I(".ctc-status-icon").remove();I(ag).parent(".ctc-textarea-button-cell, .ctc-button-cell").append('<span class="ctc-status-icon spinner"></span>');I(".spinner").show();if((ah=I("#ctc_new_selectors"))&&"ctc_save_new_selectors"==I(ag).attr("id")){ae.ctc_new_selectors=ah.val();if(ad=I("#ctc_sel_ovrd_query_selected")){ae.ctc_sel_ovrd_query=ad.text()}}else{if((ab=I("#ctc_child_imports"))&&"ctc_save_imports"==I(ag).attr("id")){ae.ctc_child_imports=ab.val()}else{ae=O(ag)}}I("#ctc_sel_ovrd_selector_selected").find("#ctc_rewrite_selector").each(function(){af=I("#ctc_rewrite_selector").val(),origsel=I("#ctc_rewrite_selector_orig").val();if(E(af)||!af.toString().match(/\w/)){af=origsel}else{ae.ctc_rewrite_selector=af}I(".ctc-rewrite-toggle").text(ctcAjax.rename_txt);I("#ctc_sel_ovrd_selector_selected").html(af)});ae.action="ctc_update";ae._wpnonce=I("#_wpnonce").val();I.post(ctcAjax.ajaxurl,ae,function(aj){I(ag).prop("disabled",false);I(".ctc-status-icon").removeClass("spinner");if(E(aj)){I(".ctc-status-icon").addClass("failure")}else{I(".ctc-status-icon").addClass("success");I("#ctc_new_selectors").val("");D(aj);m();if(false===E(W)){J(W,x);W=x=null}}return false},"json").fail(function(){I(ag).prop("disabled",false);I(".ctc-status-icon").removeClass("spinner");I(".ctc-status-icon").addClass("failure")});return false}function G(ad,ab){ab=("undefined"==typeof ab?"":ab);var ac={orig:ab};if(ad.toString().match(/^border(\-(top|right|bottom|left))?$/)){var ae=ab.toString().split(/ +/);ac.names=["_border_width","_border_style","_border_color"];ac.values=[("undefined"==typeof ae[0]?"":ae[0]),("undefined"==typeof ae[1]?"":ae[1]),("undefined"==typeof ae[2]?"":ae[2])]}else{if(ad.toString().match(/^background\-image/)){ac.names=["_background_url","_background_origin","_background_color1","_background_color2"];ac.values=["","","",""];if(false===(E(ab))&&!(ab.toString().match(/url/))){var ae=ab.toString().split(/:/);ac.values[1]=("undefined"==typeof ae[0]?"":ae[0]);ac.values[2]=("undefined"==typeof ae[1]?"":ae[1]);ac.values[3]=("undefined"==typeof ae[3]?"":ae[3]);ac.orig=[ac.values[1],ac.values[2],ac.values[3]].join(" ")}else{ac.values[0]=ab}}else{ac.names=[""];ac.values=[ab]}}return ac}function a(ab){s=ab;I("#ctc_sel_ovrd_query").val("");I("#ctc_sel_ovrd_query_selected").text(ab);I("#ctc_sel_ovrd_selector").val("");I("#ctc_sel_ovrd_selector_selected").html("&nbsp;");I("#ctc_sel_ovrd_rule_inputs").html("");Z(ab);O("#ctc_child_all_0_swatch");I("#ctc_new_selector_row").show()}function J(ac,ab){I("#ctc_sel_ovrd_selector").val("");I("#ctc_sel_ovrd_selector_selected").text(ab);I("#ctc_sel_ovrd_qsid").val(ac);C=ac;if(1!=X.sel_val){X.sel_val=0}S(ac);I(".ctc-rewrite-toggle").text(ctcAjax.rename_txt);I("#ctc_sel_ovrd_new_rule, #ctc_sel_ovrd_rule_header,#ctc_sel_ovrd_rule_inputs_container,#ctc_sel_ovrd_rule_inputs,.ctc-rewrite-toggle").show()}function c(ac,ab){I("#ctc_rule_menu").val("");I("#ctc_rule_menu_selected").text(ab);if(1!=X.rule_val){X.rule_val=0}A(ac);I(".ctc-rewrite-toggle").text(ctcAjax.rename_txt);I("#ctc_rule_value_inputs,#ctc_input_row_rule_header").show()}function R(){v=g();I("#ctc_sel_ovrd_query").autocomplete({source:v,minLength:0,selectFirst:true,autoFocus:true,select:function(ac,ab){a(ab.item.value);return false},focus:function(ab){ab.preventDefault()}})}function Z(ab){t=U(ab);I("#ctc_sel_ovrd_selector").autocomplete({source:t,selectFirst:true,autoFocus:true,select:function(ad,ac){J(ac.item.value,ac.item.label);return false},focus:function(ac){ac.preventDefault()}})}function k(){N=d();I("#ctc_rule_menu").autocomplete({source:N,selectFirst:true,autoFocus:true,select:function(ac,ab){c(ab.item.value,ab.item.label);return false},focus:function(ab){ab.preventDefault()}})}function Q(ae,ac){var ab=[],ad=(E(ctcAjax.sel_val[C]))||(E(ctcAjax.sel_val[C].value));if(E(N)){N=d()}I.each(N,function(af,ai){var ag=false,ah=new RegExp(I.ui.autocomplete.escapeRegex(ae.term),"i");if(ah.test(ai.label)){if(false===ad){I.each(ctcAjax.sel_val[C].value,function(ak,aj){if(ai.label==ak.replace(/\d+/g,F)){ag=true;return false}});if(ag){return}}ab.push(ai)}});ac(ab)}function P(){I("#ctc_new_rule_menu").autocomplete({source:Q,selectFirst:true,autoFocus:true,select:function(ac,ab){ac.preventDefault();var ad=I(T(C,ab.item.label.replace(/[^\w\-]/g,f),"ovrd"));I("#ctc_sel_ovrd_rule_inputs").append(ad);I("#ctc_new_rule_menu").val("");if(E(ctcAjax.sel_val[C].value)){ctcAjax.sel_val[C]["value"]={}}ctcAjax.sel_val[C].value[ab.item.label]={child:""};ad.find('input[type="text"]').each(function(ae,af){if(I(af).hasClass("color-picker")){V(af)}I(af).focus()});return false},focus:function(ab){ab.preventDefault()}})}function m(){R();Z(s);k();P()}function q(ab,ac){var ad=false;I.each(ctcAjax.themes,function(ae,af){I.each(af,function(ag,ah){if(ag==ab&&("parnt"==ae||"new"==ac)){ad=true;return false}});if(ad){return false}});return ad}function l(){var ae=I("#ctc_theme_parnt").val(),ab=slugbase=ae+"-child",ac=ctcAjax.themes.parnt[ae].Name+" Child",ag="",ad="",af="00";while(q(ab,"new")){ag=(""==ag?2:ag+1);ad=af.substring(0,af.length-ag.toString().length)+ag.toString();ab=slugbase+ad}r=ab;h=ac+(ad.length?" "+ad:"")}function b(ab){var ac="";if(false===E(ab)){I.each(ab,function(ad,ae){ac+='<div class="'+ad+'"><ul>'+M;I(ae).each(function(af,ag){ac+="<li>"+ag.toString()+"</li>"+M});ac+="</ul></div>"})}I("#ctc_error_notice").html(ac)}function u(){var ae=/[^\w\-]/,ac=I("#ctc_child_template").val().toString().replace(ae).toLowerCase(),ab=I("#ctc_theme_child").val().toString().replace(ae).toLowerCase(),ad=I("input[name=ctc_child_type]:checked").val(),af=[];if("new"==ad){ab=ac}if(q(ab,ad)){af.push(ctcAjax.theme_exists_txt.toString().replace(/%s/,ab))}if(""===ab){af.push(ctcAjax.inval_theme_txt)}if(""===I("#ctc_child_name").val()){af.push(ctcAjax.inval_name_txt)}if(af.length){b({error:af});return false}return true}function p(ab){I("#ctc_theme_parent").parents(".ctc-input-row").first().append('<span class="ctc-status-icon spinner"></span>');I(".spinner").show();document.location="?page=chld_thm_cfg&ctc_parent="+ab.value}function H(ab){if(false===E(ctcAjax.themes.child[ab.value])){I("#ctc_child_name").val(ctcAjax.themes.child[ab.value].Name);I("#ctc_child_author").val(ctcAjax.themes.child[ab.value].Author);I("#ctc_child_version").val(ctcAjax.themes.child[ab.value].Version)}}function z(){I(".updated, .error").slideUp("slow",function(){I(".updated").remove()})}function e(){var af=I("#ctc_theme_parnt").val(),ae=ctcAjax.theme_uri.replace(/^https?:\/\//,""),ac=ctcAjax.homeurl.replace(/^https?/,ctcAjax.ssl?"https":"http"),ad=ac+"?preview=1&p=x&template="+af+"&stylesheet="+af,ag=new RegExp("<link rel=[\"']stylesheet[\"'][^>]+?"+ae+"/"+af+"/(.+?\\.css)[^>]+?>","g"),ab;if(E(af)){return}I.get(ad,function(ah){while(ab=ag.exec(ah)){if("style.css"==ab[1]){break}if(ab[1].match(/bootstrap/)){continue}ctcAjax.addl_css.push(ab[1]);I(".ctc_checkbox").each(function(ai,aj){if(I(this).val()==ab[1]){I(this).prop("checked",true)}})}})}function n(ac){var ab=ac+"_panel";I(".nav-tab").removeClass("nav-tab-active");I(".ctc-option-panel").removeClass("ctc-option-panel-active");I(".ctc-selector-container").hide();I(ac).addClass("nav-tab-active");I(".ctc-option-panel-container").scrollTop(0);I(ab).addClass("ctc-option-panel-active")}function j(ae){var ab=I(ae).attr("id").match(/_(\d+)$/)[1],ad=ctcAjax.sel_val[ab].query,ac=ctcAjax.sel_val[ab].selector,af="#query_selector_options";a(ad);J(ab,ac);n(af)}function i(ac){var ab;if(I("#ctc_rewrite_selector").length){ab=I("#ctc_rewrite_selector_orig").val();I("#ctc_sel_ovrd_selector_selected").text(ab);I(ac).text(ctcAjax.rename_txt)}else{ab=I("#ctc_sel_ovrd_selector_selected").text();I("#ctc_sel_ovrd_selector_selected").html('<input id="ctc_rewrite_selector" name="ctc_rewrite_selector" type="text" value="'+L(ab)+'" autocomplete="off" /><input id="ctc_rewrite_selector_orig" name="ctc_rewrite_selector_orig" type="hidden" value="'+L(ab)+'"/>');I(ac).text(ctcAjax.cancel_txt)}}var M="\n",s="base",C,K={},W,x,w=new RegExp('"',"g"),r="",h="",X={rule:2,sel_ndx:2,val_qry:0,rule_val:0,sel_val:0,preview:0},t=[],v=[],N=[];l();I.widget("ctc.themeMenu",I.ui.selectmenu,{_renderItem:function(ac,ad){var ab=I("<li>");I("#ctc_theme_option_"+ad.value).detach().appendTo(ab);return ab.appendTo(ac)}});I("#ctc_theme_parnt").themeMenu({select:function(ab,ac){p(ac.item)}});if(E(ctcAjax.themes.child)){I("#ctc_child_name").val(h);I("#ctc_child_template").val(r)}else{I("#ctc_theme_child").themeMenu({select:function(ab,ac){H(ac.item)}})}I(".ctc-option-panel-container").on("focus",".color-picker",function(){b("");I(".color-picker").not(this).iris("hide");I(this).iris("toggle");I(".iris-picker").css({position:"absolute","z-index":10})});I(".ctc-option-panel-container").on("change",".ctc-child-value, input[type=checkbox]",function(){O(this)});I(".ctc-option-panel-container").on("click",".ctc-selector-handle",function(ac){ac.preventDefault();b("");var ad=I(this).attr("id").toString().replace("_close",""),ab=ad.toString().match(/_(\d+)$/)[1];if(I("#"+ad+"_container").is(":hidden")){if(1!=X.val_qry){X.val_qry=0}y(ab)}I("#"+ad+"_container").fadeToggle("fast");I(".ctc-selector-container").not("#"+ad+"_container").fadeOut("fast")});I(".nav-tab").on("click",function(ab){ab.preventDefault();b("");I(".ctc-status-icon").remove();var ac="#"+I(this).attr("id");n(ac)});I("#view_child_options,#view_parnt_options").on("click",o);I("#ctc_load_form").on("submit",function(){return(u()&&confirm(ctcAjax.load_txt))});I(document).on("click",".ctc-save-input",function(ab){B(this)});I(document).on("click",".ctc-selector-edit",function(ab){j(this)});I(document).on("click",".ctc-rewrite-toggle",function(ab){ab.preventDefault();i(this)});I(document).on("click",".ctc-section-toggle",function(ab){I(this).toggleClass("open");var ac=I(this).attr("id")+"_content";I("#"+ac).slideToggle("fast")});I(document).on("click",".ctc-live-preview",function(ab){ab.stopImmediatePropagation();ab.preventDefault();document.location=I(this).prop("href");return false});I(document).on("change","#ctc_configtype",function(ab){var ac=I(this).val();if(E(ac)||"theme"==ac){I(".ctc-theme-only").stop().slideDown("fast")}else{I(".ctc-theme-only").stop().slideUp("fast")}});I("#ctc_theme_child,#ctc_theme_child-button,#ctc_child_type_existing").on("focus click",function(){I("#ctc_child_type_existing").prop("checked",true);I("#ctc_child_type_new").prop("checked",false);I("#ctc_child_template").val("")});I("#ctc_child_type_new,#ctc_child_template").on("focus click",function(){I("#ctc_child_type_existing").prop("checked",false);I("#ctc_child_type_new").prop("checked",true);I("#ctc_child_name").val(h);I("#ctc_child_template").val(r)});m();a(s);e();I("input[type=submit],input[type=button]").prop("disabled",false);setTimeout(z,6000)});